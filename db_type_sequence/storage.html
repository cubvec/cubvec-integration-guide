<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>storage - Cubvec Integration Guide</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "light" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../index.html"><strong aria-hidden="true">1.</strong> Intro</a></li><li class="chapter-item "><a href="../pt_type_sequence/index.html"><strong aria-hidden="true">2.</strong> PT_TYPE_SEQUENCE</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../pt_type_sequence/parser.html"><strong aria-hidden="true">2.1.</strong> parser</a></li><li class="chapter-item "><a href="../pt_type_sequence/query.html"><strong aria-hidden="true">2.2.</strong> query</a></li><li class="chapter-item "><a href="../pt_type_sequence/optimizer.html"><strong aria-hidden="true">2.3.</strong> optimizer</a></li></ol></li><li class="chapter-item expanded "><a href="../db_type_sequence/index.html"><strong aria-hidden="true">3.</strong> DB_TYPE_SEQUENCE</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../db_type_sequence/query.html"><strong aria-hidden="true">3.1.</strong> query</a></li><li class="chapter-item "><a href="../db_type_sequence/object.html"><strong aria-hidden="true">3.2.</strong> object</a></li><li class="chapter-item expanded "><a href="../db_type_sequence/storage.html" class="active"><strong aria-hidden="true">3.3.</strong> storage</a></li><li class="chapter-item "><a href="../db_type_sequence/parser.html"><strong aria-hidden="true">3.4.</strong> parser</a></li><li class="chapter-item "><a href="../db_type_sequence/base.html"><strong aria-hidden="true">3.5.</strong> base</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Cubvec Integration Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="storage-directory"><a class="header" href="#storage-directory">Storage Directory</a></h1>
<pre><code class="language-cpp">statistics_sr.c
882- case DB_TYPE_STRING:
883-   fprintf (fpp, "DB_TYPE_STRING \n");
884-   break;
885-
886- case DB_TYPE_OBJECT:
887-   fprintf (fpp, "DB_TYPE_OBJECT \n");
888-   break;
889-
890- case DB_TYPE_SET:
891-   fprintf (fpp, "DB_TYPE_SET \n");
892-   break;
893-
894- case DB_TYPE_JSON:
895-   fprintf (fpp, "DB_TYPE_JSON \n");
896-   break;
897-
898- case DB_TYPE_MULTISET:
899-   fprintf (fpp, "DB_TYPE_MULTISET \n");
900-   break;
901-
902: case DB_TYPE_SEQUENCE:
903:   fprintf (fpp, "DB_TYPE_SEQUENCE \n");
904-   break;
905-
906- case DB_TYPE_TIME:
907-   fprintf (fpp, "DB_TYPE_TIME \n");
908-   break;
909-
910- case DB_TYPE_TIMESTAMP:
911-   fprintf (fpp, "DB_TYPE_TIMESTAMP \n");
912-   break;
913-
914- case DB_TYPE_TIMESTAMPLTZ:
915-   fprintf (fpp, "DB_TYPE_TIMESTAMPLTZ \n");
916-   break;
917-
918- case DB_TYPE_TIMESTAMPTZ:
919-   fprintf (fpp, "DB_TYPE_TIMESTAMPTZ \n");
920-   break;
921-
922- case DB_TYPE_DATETIME:
923-   fprintf (fpp, "DB_TYPE_DATETIME \n");

</code></pre>
<pre><code class="language-cpp">compactdb_sr.c
119-     return_value = 1;
120-     break;
121-   }
122-
123- if (is_class (ref_oid, &amp;ref_class_oid))
124-   {
125-     break;
126-   }
127-
128-#if defined(CUBRID_DEBUG)
129- printf (msgcat_message (MSGCAT_CATALOG_UTILS, MSGCAT_UTIL_SET_COMPACTDB, COMPACTDB_MSG_REFOID), ref_oid-&gt;volid,
130-  ref_oid-&gt;pageid, ref_oid-&gt;slotid, ref_class_oid.volid, ref_class_oid.pageid, ref_class_oid.slotid);
131-#endif
132-
133- break;
134-      }
135-
136-    case DB_TYPE_POINTER:
137-    case DB_TYPE_SET:
138-    case DB_TYPE_MULTISET:
139:    case DB_TYPE_SEQUENCE:
140-      {
141- return_value = process_set (thread_p, db_get_set (value));
142- break;
143-      }
144-
145-    default:
146-      break;
147-    }
148-
149-  return return_value;
150-}
151-
152-/*
153- * process_set - process one set
154- *    return: whether the object should be updated.
155- *    set(in): the set to process
156- */
157-static int
158-process_set (THREAD_ENTRY * thread_p, DB_SET * set)
159-{

</code></pre>
<pre><code class="language-cpp">system_catalog.c
4781-      fprintf (stdout, "DB_TYPE_BIGINT \n");
4782-      break;
4783-    case DB_TYPE_FLOAT:
4784-      fprintf (stdout, "DB_TYPE_FLOAT \n");
4785-      break;
4786-    case DB_TYPE_DOUBLE:
4787-      fprintf (stdout, "DB_TYPE_DOUBLE \n");
4788-      break;
4789-    case DB_TYPE_STRING:
4790-      fprintf (stdout, "DB_TYPE_STRING \n");
4791-      break;
4792-    case DB_TYPE_OBJECT:
4793-      fprintf (stdout, "DB_TYPE_OBJECT \n");
4794-      break;
4795-    case DB_TYPE_SET:
4796-      fprintf (stdout, "DB_TYPE_SET \n");
4797-      break;
4798-    case DB_TYPE_MULTISET:
4799-      fprintf (stdout, "DB_TYPE_MULTISET \n");
4800-      break;
4801:    case DB_TYPE_SEQUENCE:
4802:      fprintf (stdout, "DB_TYPE_SEQUENCE \n");
4803-      break;
4804-    case DB_TYPE_TIME:
4805-      fprintf (stdout, "DB_TYPE_TIME \n");
4806-      break;
4807-    case DB_TYPE_MONETARY:
4808-      fprintf (stdout, "DB_TYPE_MONETARY \n");
4809-      break;
4810-    case DB_TYPE_DATE:
4811-      fprintf (stdout, "DB_TYPE_DATE \n");
4812-      break;
4813-    case DB_TYPE_BLOB:
4814-      fprintf (stdout, "DB_TYPE_BLOB \n");
4815-      break;
4816-    case DB_TYPE_CLOB:
4817-      fprintf (stdout, "DB_TYPE_CLOB \n");
4818-      break;
4819-    case DB_TYPE_VARIABLE:
4820-      fprintf (stdout, "DB_TYPE_VARIABLE \n");
4821-      break;
4822-    case DB_TYPE_SUB:

</code></pre>
<pre><code class="language-cpp">catalog_class.c
1375-   || db_get_enum_short (attr_val_p) &gt; or_val-&gt;value.data.set-&gt;set-&gt;size)
1376- {
1377-   error = ER_FAILED;
1378-   goto error;
1379- }
1380-      error = set_get_element (db_get_set (&amp;or_val-&gt;value), db_get_enum_short (attr_val_p) - 1, &amp;val);
1381-      if (error != NO_ERROR)
1382- {
1383-   goto error;
1384- }
1385-
1386-      val.need_clear = false;
1387-      db_make_enumeration (attr_val_p, db_get_enum_short (attr_val_p), db_get_string (&amp;val), db_get_string_size (&amp;val),
1388-      db_get_enum_codeset (attr_val_p), db_get_enum_collation (attr_val_p));
1389-      attr_val_p-&gt;need_clear = true;
1390-    }
1391-  /* triggers - advance only */
1392-  or_advance (buf_p, vars[ORC_ATT_TRIGGER_INDEX].length);
1393-
1394-  /* properties */
1395:  or_get_value (buf_p, &amp;val, tp_domain_resolve_default (DB_TYPE_SEQUENCE), vars[ORC_ATT_PROPERTIES_INDEX].length, true);
1396-  att_props = db_get_set (&amp;val);
1397-  attr_val_p = &amp;attrs[8].value;
1398-  db_make_null (&amp;default_expr);
1399-  if (att_props != NULL)
1400-    {
1401-      size_t default_value_len = 0;
1402-      const char *default_str_val = NULL;
1403-
1404-      if (classobj_get_prop (att_props, "default_expr", &amp;default_expr) &gt; 0)
1405- {
1406-   size_t len;
1407-
1408:   if (DB_VALUE_TYPE (&amp;default_expr) == DB_TYPE_SEQUENCE)
1409-     {
1410-       assert (set_size (db_get_set (&amp;default_expr)) == 3);
1411-       def_expr_seq = db_get_set (&amp;default_expr);
1412-
1413-       error = set_get_element_nocopy (def_expr_seq, 0, &amp;db_value_default_expr_op);
1414-       if (error != NO_ERROR)
1415-  {
1416-    goto error;
1417-  }
1418-       assert (DB_VALUE_TYPE (&amp;db_value_default_expr_op) == DB_TYPE_INTEGER
1419-        &amp;&amp; db_get_int (&amp;db_value_default_expr_op) == (int) T_TO_CHAR);
1420-       with_to_char = true;
1421-
1422-       error = set_get_element_nocopy (def_expr_seq, 1, &amp;db_value_default_expr_type);
1423-       if (error != NO_ERROR)
1424-  {
1425-    goto error;
1426-  }
1427-       default_expr_type = (DB_DEFAULT_EXPR_TYPE) db_get_int (&amp;db_value_default_expr_type);
1428-



1739-       goto error;
1740-     }
1741- }
1742-
1743-      if (DB_IS_NULL (attr_val_p))
1744- {
1745-   /* if self reference for example, "class x (a x)" set an invalid data type, and fill its value later */
1746-   error = db_value_domain_init (attr_val_p, DB_TYPE_VARIABLE, DB_DEFAULT_PRECISION, DB_DEFAULT_SCALE);
1747-   if (error != NO_ERROR)
1748-     {
1749-       goto error;
1750-     }
1751- }
1752-    }
1753-
1754-  /* enumeration */
1755-  if (vars[ORC_DOMAIN_ENUMERATION_INDEX].length)
1756-    {
1757-      /* enumerations are stored as a collection of strings */
1758-      TP_DOMAIN *string_dom = tp_domain_resolve_default (DB_TYPE_STRING);
1759:      PR_TYPE *seq_type = pr_type_from_id (DB_TYPE_SEQUENCE);
1760-
1761:      TP_DOMAIN *domain = tp_domain_construct (DB_TYPE_SEQUENCE, NULL, 0, 0, string_dom);
1762-      if (domain == NULL)
1763- {
1764-   error = ER_FAILED;
1765-   goto error;
1766- }
1767-      domain = tp_domain_cache (domain);
1768-
1769-      seq_type-&gt;data_readval (buf_p, &amp;attrs[7].value, domain, -1, true, NULL, 0);
1770-    }
1771-
1772-  /* set_domain */
1773-  error =
1774-    catcls_get_subset (thread_p, buf_p, vars[ORC_DOMAIN_SETDOMAIN_INDEX].length, &amp;attrs[8],
1775-         catcls_get_or_value_from_domain);
1776-
1777-  if (vars[ORC_DOMAIN_SCHEMA_JSON_OFFSET].length &gt; 0)
1778-    {
1779-      char *schema_str;
1780-      error = or_get_json_schema (buf_p, schema_str);
1781-      if (error != NO_ERROR)



2286-      attrs = values[j].sub.value;
2287-
2288-      /* index_name */
2289-      attr_val_p = &amp;attrs[1].value;
2290-      error = set_get_element (seq_p, i, attr_val_p);
2291-      if (error != NO_ERROR)
2292- {
2293-   goto error;
2294- }
2295-      db_string_truncate (attr_val_p, DB_MAX_IDENTIFIER_LENGTH);
2296-
2297-      /* (is_unique) */
2298-      db_make_int (&amp;attrs[2].value, is_unique);
2299-
2300-      error = set_get_element (seq_p, i + 1, &amp;keys);
2301-      if (error != NO_ERROR)
2302- {
2303-   goto error;
2304- }
2305-
2306:      if (DB_VALUE_TYPE (&amp;keys) == DB_TYPE_SEQUENCE)
2307- {
2308-   key_seq_p = db_get_set (&amp;keys);
2309- }
2310-      else
2311- {
2312-   assert (0);
2313-   error = ER_SM_INVALID_PROPERTY;
2314-   er_set (ER_ERROR_SEVERITY, ARG_FILE_LINE, error, 0);
2315-   goto error;
2316- }
2317-
2318-      /* the sequence of keys also includes the B+tree ID and the filter predicate expression in the first two
2319-       * positions (0 and 1) */
2320-      key_size = set_size (key_seq_p);
2321-      att_cnt = (key_size - 3) / 2;
2322-
2323-      /* Get status. */
2324-      error = set_get_element (key_seq_p, key_size - 2, &amp;attrs[11].value);
2325-
2326-      /* comment */
2327-      error = set_get_element (key_seq_p, key_size - 1, &amp;attrs[10].value);
2328-      if (error != NO_ERROR)
2329- {
2330-   goto error;
2331- }
2332-      db_string_truncate (&amp;attrs[10].value, DB_MAX_COMMENT_LENGTH);
2333-
2334-      if (!is_primary_key &amp;&amp; !is_foreign_key)
2335- {
2336-   /* prefix_length or filter index */
2337-   error = set_get_element (key_seq_p, key_size - 3, &amp;svalue);
2338-   if (error != NO_ERROR)
2339-     {
2340-       goto error;
2341-     }
2342-
2343:   if (DB_VALUE_TYPE (&amp;svalue) != DB_TYPE_SEQUENCE)
2344-     {
2345-       error = ER_SM_INVALID_PROPERTY;
2346-       er_set (ER_ERROR_SEVERITY, ARG_FILE_LINE, error, 0);
2347-       goto error;
2348-     }
2349-
2350-   seq = db_get_set (&amp;svalue);
2351-   error = set_get_element (seq, 0, &amp;val);
2352-   if (error != NO_ERROR)
2353-     {
2354-       goto error;
2355-     }
2356-
2357-   if (DB_VALUE_TYPE (&amp;val) == DB_TYPE_INTEGER)
2358-     {
2359-       /* have prefix length */
2360-       prefix_seq = seq;
2361-     }
2362:   else if (DB_VALUE_TYPE (&amp;val) == DB_TYPE_SEQUENCE)
2363-     {
2364-       DB_SET *child_seq = db_get_set (&amp;val);
2365-       int seq_size = set_size (seq);
2366-       int flag, l = 0;
2367-       DB_VALUE temp;
2368-       int col_id, att_index_start;
2369-       char *buffer, *ptr;
2370-       TP_DOMAIN *fi_domain = NULL;
2371-
2372-       /* have filter or function index */
2373-       while (true)
2374-  {
2375-    flag = 0;
2376-    error = set_get_element (child_seq, 0, &amp;avalue);
2377-    if (error != NO_ERROR)
2378-      {
2379-        goto error;
2380-      }
2381-
2382-    if (DB_IS_NULL (&amp;avalue) || DB_VALUE_TYPE (&amp;avalue) != DB_TYPE_STRING)



2390-      {
2391-        flag = 0x01;
2392-      }
2393-    else if (!intl_identifier_casecmp (db_get_string (&amp;avalue), SM_FUNCTION_INDEX_ID))
2394-      {
2395-        flag = 0x02;
2396-      }
2397-    else if (!intl_identifier_casecmp (db_get_string (&amp;avalue), SM_PREFIX_INDEX_ID))
2398-      {
2399-        flag = 0x03;
2400-      }
2401-
2402-    pr_clear_value (&amp;avalue);
2403-
2404-    error = set_get_element (child_seq, 1, &amp;avalue);
2405-    if (error != NO_ERROR)
2406-      {
2407-        goto error;
2408-      }
2409-
2410:    if (DB_VALUE_TYPE (&amp;avalue) != DB_TYPE_SEQUENCE)
2411-      {
2412-        error = ER_SM_INVALID_PROPERTY;
2413-        er_set (ER_ERROR_SEVERITY, ARG_FILE_LINE, error, 0);
2414-        goto error;
2415-      }
2416-
2417-    switch (flag)
2418-      {
2419-      case 0x01:
2420-        pred_seq = db_get_set (&amp;avalue);
2421-        attr_val_p = &amp;attrs[8].value;
2422-        error = set_get_element (pred_seq, 0, attr_val_p);
2423-        if (error != NO_ERROR)
2424-   {
2425-     goto error;
2426-   }
2427-        break;
2428-
2429-      case 0x02:
2430-        has_function_index = 1;



2540-        break;
2541-
2542-      default:
2543-        break;
2544-      }
2545-
2546-    pr_clear_value (&amp;avalue);
2547-
2548-    l++;
2549-    if (l &gt;= seq_size)
2550-      {
2551-        break;
2552-      }
2553-
2554-    pr_clear_value (&amp;val);
2555-    if (set_get_element (seq, l, &amp;val) != NO_ERROR)
2556-      {
2557-        error = ER_FAILED;
2558-        goto error;
2559-      }
2560:    if (DB_VALUE_TYPE (&amp;val) != DB_TYPE_SEQUENCE)
2561-      {
2562-        error = ER_FAILED;
2563-        goto error;
2564-      }
2565-
2566-    child_seq = db_get_set (&amp;val);
2567-  }
2568-     }
2569-   else
2570-     {
2571-       error = ER_SM_INVALID_PROPERTY;
2572-       er_set (ER_ERROR_SEVERITY, ARG_FILE_LINE, error, 0);
2573-       goto error;
2574-     }
2575-   pr_clear_value (&amp;val);
2576- }
2577-
2578-      /* key_count */
2579-      if (has_function_index == 0)
2580- {



2814-  if (expected_size == 0)
2815-    {
2816-      value_p-&gt;sub.count = 0;
2817-      return NO_ERROR;
2818-    }
2819-
2820-  db_value_put_null (&amp;prop_val);
2821-  for (i = 0; i &lt; SM_PROPERTY_NUM_INDEX_FAMILY; i++)
2822-    {
2823-      db_value_put_null (&amp;vals[i]);
2824-    }
2825-
2826-  tp_Sequence.data_readval (buf_p, &amp;prop_val, NULL, expected_size, true, NULL, 0);
2827-  prop_seq_p = db_get_set (&amp;prop_val);
2828-
2829-  for (i = 0; i &lt; SM_PROPERTY_NUM_INDEX_FAMILY; i++)
2830-    {
2831-      if (prop_seq_p != NULL &amp;&amp; (classobj_get_prop (prop_seq_p, property_vars[i].name, &amp;vals[i]) &gt; 0))
2832- {
2833-
2834:   if (DB_VALUE_TYPE (&amp;vals[i]) == DB_TYPE_SEQUENCE)
2835-     {
2836-       property_vars[i].seq = db_get_set (&amp;vals[i]);
2837-     }
2838-
2839-   if (property_vars[i].seq != NULL)
2840-     {
2841-       property_vars[i].size = set_size (property_vars[i].seq) / 2;
2842-       n_size += property_vars[i].size;
2843-     }
2844- }
2845-    }
2846-
2847-  if (n_size &gt; 0)
2848-    {
2849-      subset_p = catcls_allocate_or_value (n_size);
2850-      if (subset_p == NULL)
2851- {
2852-   error = ER_OUT_OF_VIRTUAL_MEMORY;
2853-   goto error;
2854- }

</code></pre>
<pre><code class="language-cpp">heap_file.c
10201-      else
10202- {
10203-   /*
10204-    * A variable attribute
10205-    */
10206-   if (!OR_VAR_IS_NULL (recdes-&gt;data, value-&gt;read_attrepr-&gt;location))
10207-     {
10208-       /*
10209-        * The variable attribute is bound.
10210-        * Find its location through the variable offset attribute table.
10211-        */
10212-       disk_data = ((char *) recdes-&gt;data + OR_VAR_OFFSET (recdes-&gt;data, value-&gt;read_attrepr-&gt;location));
10213-
10214-       disk_bound = true;
10215-       switch (TP_DOMAIN_TYPE (attrepr-&gt;domain))
10216-  {
10217-  case DB_TYPE_BLOB:
10218-  case DB_TYPE_CLOB:
10219-  case DB_TYPE_SET: /* it may be just a little bit fast */
10220-  case DB_TYPE_MULTISET:
10221:  case DB_TYPE_SEQUENCE:
10222-    OR_VAR_LENGTH (disk_length, recdes-&gt;data, value-&gt;read_attrepr-&gt;location,
10223-     attr_info-&gt;read_classrepr-&gt;n_variable);
10224-    break;
10225-  default:
10226-    disk_length = -1; /* remains can read without disk_length */
10227-  }
10228-     }
10229- }
10230-    }
10231-
10232-  /*
10233-   * From now on, I should only use attrepr.. it will point to either
10234-   * a current value or a default one
10235-   */
10236-
10237-  /*
10238-   * Clear/decache any old value
10239-   */
10240-  if (value-&gt;state != HEAP_UNINIT_ATTRVALUE)
10241-    {
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../db_type_sequence/object.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../db_type_sequence/parser.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../db_type_sequence/object.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../db_type_sequence/parser.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
